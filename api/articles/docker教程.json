{"title":"docker安装","uid":"30203d9cdc7458d307e82acc7bbcb96a","slug":"docker教程","date":"2023-10-08T13:31:06.815Z","updated":"2023-10-21T16:05:14.808Z","comments":true,"path":"api/articles/docker教程.json","keywords":null,"cover":"https://s2.loli.net/2023/10/22/DstLCnxGhRA6J1S.png","content":"<h1 id=\"Docker教程\"><a href=\"#Docker教程\" class=\"headerlink\" title=\"Docker教程\"></a>Docker教程</h1><h3 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h3><ol>\n<li><p><a href=\"https://docs.docker.com/engine/install/centos/\">进入官网</a></p>\n</li>\n<li><p>搜索框搜索对应的操作系统按指导下载即可</p>\n</li>\n<li><p>以下为centos系统下的安装</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># 卸载旧版本docker</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">yum</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">remove</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">docker</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                  </span><span style=\"color: #C3E88D\">docker-client</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                  </span><span style=\"color: #C3E88D\">docker-client-latest</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                  </span><span style=\"color: #C3E88D\">docker-common</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                  </span><span style=\"color: #C3E88D\">docker-latest</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                  </span><span style=\"color: #C3E88D\">docker-latest-logrotate</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                  </span><span style=\"color: #C3E88D\">docker-logrotate</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">                  </span><span style=\"color: #C3E88D\">docker-engine</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># 安装yum-util工具包和设置repository</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">yum</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">install</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-y</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">yum-utils</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">yum-config-manager</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--add-repo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">https://download.docker.com/linux/centos/docker-ce.repo</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># 安装最新版本docker，你也可以指定版本（官网文档有，此条命令右侧）</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">yum</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">install</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">docker-ce</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">docker-ce-cli</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">containerd.io</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">docker-buildx-plugin</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">docker-compose-plugin</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># 启动docker，关闭stop，重启restart 替换下行的start即可</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">start</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">docker</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># 验证安装成功</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">docker</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">run</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">hello-world</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># 设置开机自启动</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">enable</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">docker</span></span>\n<span class=\"line\"></span></code></pre></div></li>\n<li><p>镜像加速。第一个是官方国内的（macos推荐），第二个是阿里云的</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">mkdir</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-p</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/docker</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">tee</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">/etc/docker/daemon.json</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&lt;&lt;-</span><span style=\"color: #BABED8\">&#39;</span><span style=\"color: #89DDFF\">EOF</span><span style=\"color: #BABED8\">&#39;</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">  &quot;registry-mirrors&quot;: [</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">  &quot;https://registry.docker-cn.com&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">  &quot;https://oonznso4.mirror.aliyuncs.com&quot;]</span></span>\n<span class=\"line\"><span style=\"color: #C3E88D\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">EOF</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">daemon-reload</span></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">sudo</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">systemctl</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">restart</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">docker</span></span></code></pre></div></li>\n</ol>\n<h3 id=\"基本指令\"><a href=\"#基本指令\" class=\"headerlink\" title=\"基本指令\"></a>基本指令</h3><p><a href=\"https://www.runoob.com/docker/docker-hello-world.html\">菜鸟教程</a></p>\n<p> <a href=\"../Downloads/%E8%84%91%E5%9B%BE%E7%AC%94%E8%AE%B0/Docker2022.html\">Docker2022.html</a> </p>\n<h3 id=\"基本容器的安装（mac版）\"><a href=\"#基本容器的安装（mac版）\" class=\"headerlink\" title=\"基本容器的安装（mac版）\"></a>基本容器的安装（mac版）</h3><h4 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h4><ol>\n<li><p>创建目录</p>\n</li>\n<li><p>编辑my.cnf</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">[mysqld]</span></span>\n<span class=\"line\"><span style=\"color: #babed8\"></span></span>\n<span class=\"line\"><span style=\"color: #babed8\"></span></span></code></pre></div></li>\n<li><p>创建容器</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">docker</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">run</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">-p</span><span style=\"color: #BABED8\"> </span><span style=\"color: #F78C6C\">3307</span><span style=\"color: #C3E88D\">:3306</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">--name</span><span style=\"color: #BABED8\"> </span><span style=\"color: #C3E88D\">mysql</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">-v </span><span style=\"color: #C3E88D\">/Users/ming/mydata/mysql/log:/var/log</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">-v </span><span style=\"color: #C3E88D\">/Users/ming/mydata/mysql/data:/var/lib/mysql</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">-v </span><span style=\"color: #C3E88D\">/Users/ming/mydata/mysql/conf/my.cnf:/etc/my.cnf</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">-e </span><span style=\"color: #C3E88D\">MYSQL_ROOT_PASSWORD=Dd112211.</span><span style=\"color: #BABED8\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">-d </span><span style=\"color: #C3E88D\">mysql/mysql-server</span></span></code></pre></div></li>\n</ol>\n","text":"Docker教程安装 进入官网 搜索框搜索对应的操作系统按指导下载即可 以下为centos系统下的安装 shell # 卸载旧版本docker sudo yum...","permalink":"/post/docker教程","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"软件安装","slug":"软件安装","count":3,"path":"api/categories/软件安装.json"}],"tags":[{"name":"docker","slug":"docker","count":1,"path":"api/tags/docker.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Docker%E6%95%99%E7%A8%8B\"><span class=\"toc-text\">Docker教程</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">安装</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">基本指令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E6%9C%AC%E5%AE%B9%E5%99%A8%E7%9A%84%E5%AE%89%E8%A3%85%EF%BC%88mac%E7%89%88%EF%BC%89\"><span class=\"toc-text\">基本容器的安装（mac版）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#mysql\"><span class=\"toc-text\">mysql</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"tomarsqiu","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/20/pSydNQBgwYhA1Pz.webp","link":"/","description":"技术宅","socials":{"github":"https://github.com/tomarsqiu","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"centos静态ip","uid":"91ae628334b56d49e8492c0230e20335","slug":"Centos9 设置静态ip","date":"2023-10-09T19:26:21.653Z","updated":"2023-10-21T15:49:39.604Z","comments":true,"path":"api/articles/Centos9 设置静态ip.json","keywords":null,"cover":"https://s2.loli.net/2023/10/21/HvaSjQZg6yzrOmI.webp","text":"Centos9 设置静态ip 相对以前centos7之类的，9版本的默认的网络是NetworkManager，网络配置也有较大改变 进入配置文件所在目录，用vi...","permalink":"/post/Centos9 设置静态ip","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"linux","slug":"linux","count":1,"path":"api/categories/linux.json"}],"tags":[{"name":"centos","slug":"centos","count":1,"path":"api/tags/centos.json"},{"name":"network","slug":"network","count":1,"path":"api/tags/network.json"}],"author":{"name":"tomarsqiu","slug":"blog-author","avatar":"https://s2.loli.net/2023/10/20/pSydNQBgwYhA1Pz.webp","link":"/","description":"技术宅","socials":{"github":"https://github.com/tomarsqiu","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{}}